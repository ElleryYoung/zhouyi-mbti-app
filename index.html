<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘¨æ˜“ä¸MBTIäººæ ¼æ¢ç´¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Earthy Harmony -->
    <!-- Application Structure Plan: The application is designed as a single-page interactive dashboard. The core structure features a top-level selector allowing users to switch between different Hexagram/MBTI profiles (ä¹¾/INTJ, å¤/ESFP, å±¥/INTP). This tabbed navigation approach was chosen over a long scroll page to facilitate focused exploration and easy comparison between personality types. When a profile is selected, the main content area dynamically updates to display its detailed analysis. This analysis is broken down into thematic, interactive components: an overall summary, a clickable hexagram diagram to explore individual line meanings (çˆ»è¾), and data visualizations for personality traits and elemental affinities. This interactive, non-linear structure enhances usability by transforming the dense, hierarchical text of the report into a digestible and engaging user journey of self-discovery. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Hexagram/MBTI Profiles -> Goal: Allow user to choose a profile to explore. -> Viz/Method: A set of prominent, styled buttons. -> Interaction: onClick to dynamically show/hide content sections. -> Justification: More engaging and clear than a simple dropdown menu, encouraging exploration. -> Library/Method: Vanilla JS.
        - Report Info: Line-by-line analysis (ç»„ä»¶çˆ»è¾) -> Goal: Present detailed, nested information without overwhelming the user. -> Viz/Method: An interactive diagram of the hexagram lines (built with HTML/CSS) placed next to a content panel. -> Interaction: onClick on a line highlights it and displays its specific analysis in the panel. -> Justification: This creates a "drill-down" experience, making the dense text more manageable and directly linking the symbolic representation to its meaning. -> Library/Method: Vanilla JS, HTML, Tailwind CSS.
        - Report Info: MBTI Core Traits -> Goal: Provide a quick, visual summary of the personality type. -> Viz/Method: A radar chart showing cognitive function strengths. -> Interaction: None (static display). -> Justification: Radar charts are ideal for visualizing multi-attribute data for a single entity, adding a modern analytical layer to the qualitative text. -> Library/Method: Chart.js.
        - Report Info: Spiritual Power Elements (ç²¾ç¥åŠ›åŠ æŒ) -> Goal: Present actionable advice clearly. -> Viz/Method: A card-based layout with icons (Unicode characters) and distinct sections. -> Interaction: None (static display). -> Justification: Improves scannability and visual appeal compared to a plain text block. -> Library/Method: HTML, Tailwind CSS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #FDFBF8; /* Warm off-white */
        }
        .nav-btn {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        .nav-btn.active {
            color: #8C5A3B; /* Deep Brown */
            border-bottom-color: #8C5A3B;
        }
        .hex-line {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .hex-line.active, .hex-line:hover {
            background-color: #D2B48C; /* Tan */
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #EAEAEA;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            padding: 2rem;
        }
        .poem {
            font-style: italic;
            color: #6B7280;
            white-space: pre-wrap;
            text-align: center;
        }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 400px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 350px; 
            max-height: 400px; 
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto px-4 py-8 max-w-5xl">
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-[#4A4A4A] mb-2">å‘¨æ˜“ä¸MBTIäººæ ¼æ¢ç´¢</h1>
            <p class="text-lg text-gray-500">èåˆä¸œæ–¹æ™ºæ…§ä¸ç°ä»£å¿ƒç†å­¦ï¼Œå¼€å¯ä¸€æ®µè‡ªæˆ‘å‘ç°ä¹‹æ—…ã€‚</p>
        </header>

        <nav id="navigation" class="flex justify-center border-b border-gray-200 mb-12">
            <button data-hex="qian" class="nav-btn text-lg font-medium py-3 px-6 text-gray-500">ä¹¾å¦ (INTJ)</button>
            <button data-hex="kun" class="nav-btn text-lg font-medium py-3 px-6 text-gray-500">å¤å¦ (ESFP)</button>
            <button data-hex="lv" class="nav-btn text-lg font-medium py-3 px-6 text-gray-500">å±¥å¦ (INTP)</button>
        </nav>

        <main>
            <!-- Qian (INTJ) Content -->
            <section id="content-qian" class="content-section space-y-12"></section>
            <!-- Kun (ESFP) Content -->
            <section id="content-kun" class="content-section space-y-12"></section>
            <!-- Lv (INTP) Content -->
            <section id="content-lv" class="content-section space-y-12"></section>
        </main>

    </div>

    <script>
        const hexagramData = {
            qian: {
                title: "INTJæ ‡å‡†å¦-å¤©ä¹¾ï¼šè‡ªå¼ºä¸æ¯ä¹‹æ ¼",
                poem: "æ¸Šé³åŠ¨ç´«ç©¹ï¼Œ\näº‘é›·è“„åŠ¿ä¸­ã€‚\nå¤©æ¢è€€å…«æï¼Œ\näº¢æå •ç„å®«ã€‚",
                overall: {
                    title: "æ•´ä½“å¦è±¡ï¼šèª“è¦é±¼è·ƒé¾™é—¨ã€ç¿±ç¿”äºå¤©",
                    text: "ã€Šè±¡ã€‹æ›°ï¼šå¤©è¡Œå¥ï¼Œå›å­ä»¥è‡ªå¼ºä¸æ¯ã€‚\nä½ æœ‰ç€æ˜ç¡®çš„äººç”Ÿæ„¿æ™¯æˆ–å®å¤§è“å›¾ï¼Œå¹¸è¿çš„æ˜¯ï¼Œä½ æå¼ºçš„åŸå§‹ç”Ÿå‘½åŠ›èµ‹äºˆäº†ä½ è‡ªè§‰è¿›å–ã€æ°¸ä¸æ­¢æ¯çš„å“è´¨ï¼Œèƒ½ä¸€æ­¥æ­¥åšå®šèµ°å‘ä½ çš„æœªæ¥è“å›¾ã€‚ä½ çš„èƒ½é‡æ¥æºäºå†…åœ¨å¿ƒçµï¼Œå­”å­æ›°â€œå›å­æ±‚è¯¸å·±â€ï¼Œè¿™æ˜¯ä½ çš„é“ï¼Œä¹Ÿæ˜¯ä½ äººç”Ÿæ„¿æ™¯æ‰€æ ¹æ¤çš„åœŸå£¤ã€‚å› æ­¤ï¼Œä½ æ€»æœ‰ç€æ›´é«˜æ ‡å‡†çš„è¦æ±‚å’ŒæœŸå¾…ï¼Œä¹Ÿå¯¼è‡´ä½ å¯èƒ½æ€»å¯¹ç°çŠ¶å¤–éƒ¨ç¯å¢ƒä¸æ»¡ã€‚ä½†è¯·è®°ä½è€Œéæ¶ˆè§£è¿™ç§ä¸æ»¡ï¼Œå®ƒå¾€å¾€æ˜¯ä¿ƒä½¿ä½ èœ•å˜çš„å¥‘æœºï¼Œä¸è¦è¢«â€œå“ªé‡Œéƒ½æ˜¯è¿™æ ·â€çš„è¯éº»æœ¨ã€‚ç«‹åœ°é¡¿æ—¶æˆä½›çš„ç¦…å®—æ•…äº‹æ˜¯ä½ çš„æ¯’é¸¡æ±¤ï¼Œä¸€æ­¥ä¸€è„šå°æ‰æ˜¯ä½ çš„ä¿®è¡Œæ¬¡ç¬¬ï¼Œä¹Ÿè®¸å®ƒä¸ä¼šå¸¦æ¥å¤§æ­¥å¹…é‚£ç§å¿«é€Ÿä¸”å¼ºçƒˆçš„å¤šå·´èƒºï¼Œä½†çŸ­ä¿ƒçš„æ­¥é¢‘å´èƒ½å¸¦æ¥æŒç»­æå‡çš„å†…å•¡è‚½ã€‚"
                },
                lines: [
                    { name: "åˆä¹", quote: "æ½œé¾™å‹¿ç”¨", note: "å¿Œ ç‹¬æ–­ä¸“è¡Œ", detail: "åœ¨ä½ çš„æ½œæ„è¯†ä¸­ï¼Œæ½œè—ç€è¾ƒå¼ºçš„ç«äº‰å¿ƒï¼ŒåŒæ—¶ä½ ä¹Ÿå…·å¤‡è¾ƒå¼ºç«äº‰èƒ½åŠ›ï¼Œå‹‡äºäº‰å–æœºä¼šã€‚ä½†åˆ‡è®°ç‹¬æ–­ä¸“è¡Œã€ä¸ç•™æƒ…é¢ï¼Œä¸€å®šç¨‹åº¦åœ°å…³æ³¨ä»–äººæ„Ÿå—ï¼Œç»™ä»–äººç•™æœ‰ä½™åœ°ï¼Œä¸éœ²å£°è‰²åœ°è¡¨è¾¾å§¿æ€æˆ–è®¸æ˜¯æ›´å¥½çš„æ–¹å¼ã€‚æœ€æ“…é•¿çš„äº‹ä¸ä¸€å®šè¦é«˜è°ƒï¼Œæ­¤ä¸ºæ½œé¾™å‹¿ç”¨ã€‚" },
                    { name: "ä¹äºŒ", quote: "è§é¾™åœ¨ç”°ï¼Œåˆ©è§å¤§äºº", note: "å®œ åéœ²å¿ƒå£°", detail: "æ˜¥é›·éœ‡åŠ¨ï¼Œè‹é¾™æŠ¬å¤´ï¼Œäº‹æƒ…é€‰åœ¨æƒŠè›°æ—¶æœŸå¼€å§‹ä¼šæ›´é¡ºåˆ©ï¼Œæ€ä¹ˆå»æŠ“ç»†èŠ‚éƒ½ç™¾åˆ©æ— ä¸€å®³ã€‚æ­¤å¤–ï¼Œé€‚å½“çš„æƒ…ç»ªè¡¨è¾¾æ˜¯æœ‰å¿…è¦çš„ï¼Œå°½ç®¡ä½ å¯¡è¨€å°‘è¯­ã€ä¸å–„è¡¨ç™½ï¼Œä½†è¿›å–å¿ƒæ‰€å¸¦æ¥çš„å†…å¿ƒæƒ…ç»ªæ˜¯é«˜äº¢çš„ï¼Œå‘é¢†åŸŸçš„å‰è¾ˆæˆ–äº²è¿‘çš„é•¿è€…åéœ²å¿ƒå£°æˆ–è®¸ä¼šè·å¾—æ„å¤–ä¹‹å–œã€‚" },
                    { name: "ä¹ä¸‰", quote: "å›å­ç»ˆæ—¥ä¹¾ä¹¾ï¼Œå¤•æƒ•è‹¥å‰", note: "å®œ æ—¥çœå¾èº«", detail: "æ¯é€¢å†³ç­–ï¼Œå¿…æ…é‡ä»¥å¾…ï¼Œå†³ç­–ä¹‹åï¼Œå¿…ä¸å»è¿½æ‚”ï¼Œå­æ›°ï¼šâ€œå¾é“ä¸€ä»¥è´¯ä¹‹â€ï¼ŒæŒç»­åœ¨åŒä¸€ä¸ªç‚¹å‘åŠ›æ˜¯ä½ çš„ä¼˜åŠ¿ã€‚è¿½æ±‚åè§çš„æ·±åˆ»ï¼Œè€Œéå¹³åº¸çš„å¹¿åšã€‚å› æ­¤ï¼Œè¿‡å¾€ç»éªŒäºä½ è€Œè¨€æ˜¯æœ‰æ•ˆçš„ï¼Œå®šæœŸå¤ç›˜æ˜¯ä½ çš„æœ€å¤§åŠ é€Ÿåº¦ã€‚" },
                    { name: "ä¹å››", quote: "æˆ–è·ƒåœ¨æ¸Šï¼Œæ— å’", note: "å¿Œ å®Œç¾ä¸»ä¹‰", detail: "æ±‚å…¨æ±‚å¯¹æ˜¯ç†æƒ³ä¸»ä¹‰è€…çš„é€šç—…ï¼Œè¿‡åº¦è¿½æ±‚å®Œç¾ä¼šè®©ä½ æ€»æ˜¯ä»¥é”™è¯¯ä¸ºä¸­å¿ƒã€‚å…³æ³¨è‡ªå·±æˆ–ä»–äººåšé”™çš„äº‹ï¼Œè€Œéæ­£ç¡®çš„äº‹ï¼Œå®¹æ˜“å¯¼è‡´æŒ«è´¥æ„Ÿï¼Œä»è€Œæ”¾å¼ƒã€é€€ç¼©ã€ä¸å†å°è¯•ï¼Œè¢«â€œè‡ªå‘æƒ…ç»“â€æ‰€ä¿˜è·ã€‚å› æ­¤ï¼Œå…è®¸ä¸–ç•Œå­˜åœ¨ä¸€å®šéšæœºæ€§å’Œå¶ç„¶æ€§ä¼šè®©ä½ æ›´è½»æ¾ï¼Œæ¯ä¸€æ­¥éƒ½è¸é”™ï¼Œå´èµ°åˆ°äº†æ­£ç¡®çš„ç»“æœäº¦æœ‰å¯èƒ½ã€‚" },
                    { name: "ä¹äº”", quote: "é£é¾™åœ¨å¤©", note: "å®œ åˆå¤ç«¯åˆ", detail: "å¯¹ä½ è€Œè¨€ï¼Œæ—¶æœºæ€»æ˜¯ä¸€ä»¶äº‹æˆè´¥çš„å…³é”®å› ç´ ã€‚åˆå¤ç«¯åˆæ—¶èŠ‚ï¼Œä¸œæ–¹è‹é¾™æ˜Ÿè¶Šè¿‡é“¶æ²³ï¼Œäº®äºå—å¤©ç©ºæ­£ä¸Šæ–¹ï¼Œä¸ä½ æ°”è´¨æœ€ç¬¦ã€‚å¦‚æœ‰é‡å¤§å†³ç­–æˆ–è¡ŒåŠ¨ï¼Œç»å†ä¸€ç•ªæŠ˜ç£¨æŠ˜è…¾åï¼Œå¾€å¾€èƒ½è·å¾—å·¨å¤§æˆåŠŸï¼Œåˆ‡è®°â€œè¡Œç™¾é‡Œè€…åŠä¹åâ€ï¼Œé»æ˜å‰çš„é»‘æš—å¯èƒ½æ¯”å…¶ä»–äººæ›´ longï¼Œä½†å…‰æ˜ä¹Ÿæ›´è€€çœ¼ã€‚" },
                    { name: "ä¸Šä¹", quote: "äº¢é¾™æœ‰æ‚”", note: "å¿Œ ç¥¸ä»å£å‡º", detail: "ä¹¾å¦ä¸ºçº¯é˜³ä¹‹å¦ï¼Œä¸å®¹æœ‰å®ƒã€‚å¯äººæ— å®Œäººï¼ŒåšæŒå·±è§çš„åŒæ—¶ä¹Ÿä¼šç¼ºå°‘å‡ åˆ†åŒ…å®¹ï¼Œå¯¹ç¯å¢ƒçš„ä¸æ»¡æ„å®¹æ˜“æ‰©å¤§ä¸ºå¯¹èº«è¾¹äººçš„è‹›è´£ã€‚æ·±ç§‹æ—¶èŠ‚ï¼Œäº¢æ˜Ÿæ™¦æš—ï¼Œä¹¾ä¸ºé‡‘ï¼Œç§‹é‡‘è‚ƒæ€ï¼Œåˆ‡è®°æœ‰å£æ— å¿ƒä¹‹è¨€ï¼Œä¼¤äººè€Œä¸è‡ªçŸ¥ã€‚æ­¤å¤–ï¼Œå’½å–‰ç–¾ç—…ä¹Ÿéœ€é‡ç‚¹å…³æ³¨ã€‚" }
                ],
                chartData: { labels: ['å†…å‘ç›´è§‰ (Ni)', 'å¤–å‘æ€ç»´ (Te)', 'å†…å‘æƒ…æ„Ÿ (Fi)', 'å¤–å‘æ„Ÿè§‰ (Se)'], values: [9, 8, 6, 4] },
                elements: {
                    title: "ç²¾ç¥åŠ›åŠ æŒï¼šé‡‘æœ¨",
                    items: [
                        { icon: 'ğŸŒ³', name: 'è‡ªç„¶åœºåŸŸ', text: 'æ—é—´å°å±‹çš„åº¦å‡æˆ–è®¸ä¼šè®©ä½ çµæ„Ÿè¿¸å‘ï¼Œä½ æ‰€åœ¨åŸå¸‚è¥¿åŒ—æ–¹çš„å±±æ—æœ€ä½³ã€‚' },
                        { icon: 'ğŸ›‹ï¸', name: 'å®¶å±…åœºåŸŸ', text: 'åŸæœ¨æ­é…é‡‘å±çš„ä¸­å¤åŒ…è±ªæ–¯é£å¯èƒ½ä¼šè®©ä½ èº«å¿ƒæ„‰æ‚¦ã€‚' },
                        { icon: 'ğŸ“¿', name: 'é…é¥°æŒ‚ä»¶', text: 'ä½©æˆ´æœ¨è´¨åœ†ç æ‰‹ä¸²èƒ½ä¿ƒè¿›ä½ æƒ…ç»ªç¨³å®šï¼Œé‡‘å±æˆ’æŒ‡åˆ™èƒ½è®©ä½ åšå®šä¿¡å¿µã€‚' }
                    ]
                }
            },
            kun: {
                title: "ESFPæ ‡å‡†å¦-åœ°å¤ï¼šå«ç« å®ˆé™æ ¼",
                poem: "å±¥éœœé˜´å§‹å‡ï¼Œç„é»„è¡€æˆ˜å†¥ã€‚\nå«ç« å¾…æ˜ŸåŠ¨ï¼Œå¤é—¨é—­åœ°çµã€‚",
                overall: {
                    title: "æ•´ä½“å¦è±¡ï¼šç”˜ä¸ºä¼—ç”Ÿèˆå°ã€çƒŸç«ç…§å¤œæ˜",
                    text: "ã€Šè±¡ã€‹æ›°ï¼šåœ°åŠ¿å¤ï¼Œå›å­ä»¥åšå¾·è½½ç‰©ã€‚\nå¾—ç›Šäºå¤§åœ°å¹³ç­‰æ‰¿è½½ä¸‡ç‰©çš„èƒ½åŠ›ï¼Œä½ æ‹¥æœ‰çš„æ˜¯ååº”å…³ç³»çš„ç½‘ç»œæ€ç»´æ¨¡å¼ï¼Œä¸çº¯é˜³ä¹¾å¦çš„çº¿æ€§æ€ç»´ä¸åŒï¼Œä½ èƒ½ä»å®¹æ¸¸èµ°äºå„ç±»å¤æ‚å…³ç³»å¹¶å®‰é¡¿å¥½æ¯ä¸€ä¸ªäººï¼Œä½ ä¹Ÿèƒ½æ•é”æ•æ‰ä¸–é—´ä¸‡ç‰©çš„ç»†å¾®å˜åŒ–ã€‚åŒ…å®¹æ˜¯ä½ çš„æ€§æ ¼åº•è‰²ï¼Œæ¯”èµ·å½“ä¸€ä»¶äº‹çš„ä¸»å¯¼è€…ï¼Œä½ æ›´æ„¿æ„ä½œä¸ºæœ€å¼ºè¾…åŠ©ã€‚åå¹´ç£¨ä¸€å‰‘çš„ç²¾è‹±å™äº‹æ˜¯ä½ çš„æ¯’ç ’éœœï¼Œå½“ä¸‹å³æ°¸æ’çš„èŠ‚æ‹æ‰æ˜¯ä½ çš„ç”Ÿå‘½åˆ»åº¦â€”â€”ä¹Ÿè®¸å®ƒæ²¡æœ‰å®å¤§çº²çš„å²è¯—æ„Ÿï¼Œä½†æ¯ä¸ªç¬é—´çš„ç‚½çƒ­ç»½æ”¾ï¼Œéƒ½åœ¨ä¸ºä¸–ç•Œæ³¨å°„æŠ—è™šæ— çš„è¡€æ¸…ã€‚æˆ–è®¸è¿‡å¼ºçš„æ¢å¯ŸåŠ›ä¼šè®©ä½ åœ¨äººç”Ÿæˆ–ä¸€ä»¶äº‹çš„åˆæœŸå®¹æ˜“äº§ç”Ÿè¿·èŒ«ï¼Œåªæ˜¯å› ä¸ºä½ çš„äººç”Ÿæ„ä¹‰é”šç‚¹éœ€è¦åœ¨ä¸€ç•ªå†ç»ƒåæ‰ä¼šæ˜æ™°ï¼Œæ•…ã€Šå½–ã€‹æ›°ï¼šå…ˆè¿·å¤±é“ï¼Œåé¡ºå¾—å¸¸ã€‚"
                },
                lines: [
                    { name: "åˆå…­", quote: "å±¥éœœï¼Œåšå†°è‡³", note: "å¿Œ æäººå¿§å¤©", detail: "å¾—ç›Šäºä½ è¶…å¼ºçš„æ„ŸçŸ¥åŠ›ï¼Œä½ èƒ½è½»æ¾å¯Ÿè§‰åˆ°ç¯å¢ƒä¸­çš„ç»†å¾®å˜åŒ–ï¼Œä¹Ÿèƒ½ä½“ä¼šåˆ°è¿™äº›å˜åŒ–èƒŒåæ‰€ä»£è¡¨çš„å«ä¹‰ä»¥åŠæœªæ¥çš„å¯èƒ½èµ°å‘ã€‚ä½†æ‰€æœ‰è¿™ä¸€åˆ‡æ„ŸçŸ¥éƒ½åŸºäºç»éªŒæ¨æ¼”ï¼Œå½“ä½ ç»éªŒä¸è¶³ï¼Œå®¹æ˜“å°†å¾®å°åˆºæ¿€è¿‡åº¦å¤–æ¨ä¸ºä¸å¯é€†çš„ç¾éš¾ï¼Œé€‚å¾—å…¶åã€‚" },
                    { name: "å…­äºŒ", quote: "ç›´æ–¹å¤§ï¼Œä¸ä¹ ï¼Œæ— ä¸åˆ©", note: "å®œ æˆªæ–­æ€ç»´", detail: "ç†æ€§ä¸æ€ç»´æ€»æœ‰å…¶è¾¹ç•Œï¼Œé€»è¾‘æ— æ³•è§¦ç¢°çš„é¢†åŸŸï¼Œåªèƒ½ä»¥èº«ä½“ç›´æ¥æ„Ÿå—ã€‚æŠ›å¼ƒä¸€åˆ‡æ€ç»´ï¼Œå……åˆ†è°ƒåŠ¨ä½ çš„äº”æ„Ÿï¼Œç›´æ¥æ„Ÿå—ï¼Œæ–¹æœ‰æ‰€æˆï¼Œé¢†æ‚Ÿè¿™äº›éä¹ å¾—æ€§æ™ºæ…§æ˜¯ä½ çš„å¤©èµ‹ã€‚åˆ‡è®°æˆä¸ºåæ™ºä¸»ä¹‰ï¼Œä½ æ‹¥æœ‰çš„æ˜¯è¶…è¶Šçš„èƒ½åŠ›ï¼Œä½†åŸºç¡€çš„ç†æ€§æ­¥éª¤ä¾ç„¶è¦è¿ˆå‡ºã€‚" },
                    { name: "å…­ä¸‰", quote: "å«ç« å¯è´ï¼Œæˆ–ä»ç‹äº‹ï¼Œæ— æˆæœ‰ç»ˆ", note: "å¿Œ é€åå¤±åˆ©", detail: "ä½ æ“…é•¿å›¢é˜Ÿäº‹åŠ¡ï¼Œä½†åœ¨äº‹æƒ…èµ°å‘ç»“æŸæ—¶ï¼Œè£è€€æ€»ä¼šå½’äºä¸€ä¸ªæœ€é—ªè€€çš„ä¸ªä½“ã€‚ä½ çš„æ‰åæ˜¯è¢«å¤§ä¼—æ‰€çœ‹è§ã€æ‰€è®¤å¯çš„ã€‚ä½†æ­¤æ—¶ä»¥é€€ä¸ºè¿›æˆ–è®¸æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œä¸äº‰ä¹‹äº‰æ˜¯ä¸ºå¤§äº‰ã€‚çœ‹ä¼¼æ²¡æœ‰â€œåŠŸç»©â€ï¼Œå´èƒ½æ”¶è·æ„æƒ³ä¸åˆ°çš„å¥½ç»“æœã€‚" },
                    { name: "å…­å››", quote: "æ‹¬å›Šï¼Œæ— å’æ— èª‰", note: "å¿Œ å¤§å¼ æ——é¼“", detail: "å½“å¤–éƒ¨ç¯å¢ƒå‘ç”Ÿç³»ç»Ÿæ€§å˜åŒ–æ—¶ï¼Œéœ€å……åˆ†åˆ©ç”¨ä½ å¯¹ç¯å¢ƒæ•é”çš„ä¼˜åŠ¿ï¼Œé‡‡å–å†…æ”¶æ±‚ç¨³çš„æ‰“æ³•æ›´ä½³ã€‚å³ä½¿ä½ æ˜¯å‡è¿åˆ°æŸä¸ªå²—ä½ï¼Œæ–°å®˜ä¸Šä»»ä¸‰æŠŠç«çš„æ–¹å¼äº¦ä¸å¯å–ï¼Œæ›´ä¸å¯æ€¥åŠŸè¿‘åˆ©ã€‚ä½ å¯ä»¥è¯•ç€å¹¿æ³›æ”¶é›†ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯å‘¨å›´äººçš„å…´è¶£çˆ±å¥½ï¼Œè°‹å®šè€ŒååŠ¨ã€‚" },
                    { name: "å…­äº”", quote: "é»„è£³ï¼Œå…ƒå‰", note: "å®œ æ²‰ç¨³ä¹‹é»„", detail: "å½“ä½ é¢†å¯¼å›¢é˜Ÿæ—¶ï¼Œæ˜ç¡®ä»»åŠ¡å¹¶æ‰¾åˆ°å®Œæˆä»»åŠ¡çš„æœ€ä½³äººé€‰æ˜¯å…³é”®ï¼Œä½ å¯ä»¥å°è¯•é™ä½è‡ªèº«çš„å­˜åœ¨æ„Ÿï¼Œä¸è¿‡å¤šå¹²é¢„ï¼Œäº‹äº‹äº²ä¸ºåè€Œä¼šèµ·åˆ°åä½œç”¨ã€‚é¿å…æˆä¸ºä¸€å°å·¥ä½œæœºå™¨ï¼Œæ‹¥æŠ±ç”Ÿæ´»ã€è€ƒé‡ç©¿æ­æˆ–è®¸èƒ½ç»™ä½ å¸¦æ¥ä¸é”™æ•ˆæœï¼Œå¯ä»¥å°è¯•ä¸€äº›é»„è‰²ç³»çš„æœé¥°ï¼ˆå°¤å…¶æ˜¯ä¸‹è£…ï¼‰ã€‚" },
                    { name: "ä¸Šå…­", quote: "é¾™æˆ˜äºé‡ï¼Œå…¶è¡€ç„é»„", note: "å¿Œ é˜´å½±åå™¬", detail: "éç†æ€§æ˜¯ä½ çš„ç»ä½³æ­¦å™¨ï¼Œä½†è¿‡äºå¼ºè°ƒæµªæ¼«ä¸»ä¹‰éç†æ€§ï¼Œæœ¬èƒ½æ¬²æœ›å‹è¿‡ç†æ€§æ§åˆ¶ï¼Œäººæ€§ä¸­çš„é˜´æš—é¢å°±ä¼šä»¥å‡ ä½•çº§æ•°æ‰©å¼ ã€‚æˆ‘ä»¬ç»ˆç©¶æ´»åœ¨ä¸€ä¸ªç†æ€§ä¸–ç•Œä¹‹ä¸­ï¼Œè§„åˆ™ä¸ç§©åºæ°¸è¿œæ˜¯æ˜¾ä¸–ç•Œçš„æœ€é«˜ä½ï¼Œå¿…é¡»äºˆä»¥å°Šé‡ã€‚" }
                ],
                chartData: { labels: ['å¤–å‘æ„Ÿè§‰ (Se)', 'å†…å‘æƒ…æ„Ÿ (Fi)', 'å¤–å‘æ€ç»´ (Te)', 'å†…å‘ç›´è§‰ (Ni)'], values: [9, 8, 5, 3] },
                elements: {
                    title: "ç²¾ç¥åŠ›åŠ æŒï¼šåœŸ",
                    items: [
                        { icon: 'ğŸŒ¾', name: 'è‡ªç„¶åœºåŸŸ', text: 'å‘¨æœ«å»åŸå¸‚éƒŠåŒºå†œåœºæ’ç§§å‰²éº¦æˆ–è®¸èƒ½è®©ä½ ç²¾ç¥æ”¾æ¾ã€‚' },
                        { icon: 'ğŸº', name: 'å®¶å±…åœºåŸŸ', text: 'å¯ä»¥å°è¯•è¿›è¡Œä¸€äº›å¾®è§‚é€ æ™¯ï¼Œèƒ½åŠ å¼ºä½ çš„ç²¾ç¥åŠ›ï¼Œæ‘†æ”¾ä¸€äº›é™¶ç“·æ‘†ä»¶ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚' },
                        { icon: 'ğŸ’', name: 'é…é¥°æŒ‚ä»¶', text: 'ä¸€ä¸ªé€ å‹ç®€æ´çš„é»„ç›ç‘™åŠå æ˜¯è¿æ°”åŠ æŒçš„æ—¥å¸¸å•å“ã€‚' }
                    ]
                }
            },
            lv: {
                title: "INTPæ ‡å‡†å¦-å±¥å¦ï¼šå®¡æ…è·µè¡Œä¹‹æ ¼",
                poem: "æ¹–å…‰æ˜ å¤©é™…ï¼Œ\næ€è¾¨å…¥å¾®æ¯«ã€‚\nå¾ªç†æ­¥å±¥ç¨³ï¼Œ\næ— ä¸ºè‡ªé€é¥ã€‚",
                overall: {
                    title: "æ•´ä½“å¦è±¡ï¼šå¾ªç†è€Œè¡Œã€æ˜è¾¨ç¬ƒè¡Œ",
                    text: "ã€Šè±¡ã€‹æ›°ï¼šæ³½ä¸Šæœ‰å¤©ï¼Œå±¥ã€‚å›å­ä»¥è¾¨ä¸Šä¸‹ï¼Œå®šæ°‘å¿—ã€‚\nå¾—ç›Šäºä½ å¯¹é€»è¾‘å’ŒçœŸç†çš„æè‡´è¿½æ±‚ï¼Œä½ æ‹¥æœ‰çš„æ˜¯æ¸…æ™°é€å½»çš„ç³»ç»Ÿæ€ç»´æ¨¡å¼ã€‚ä¸æƒ…æ„Ÿå¯¼å‘çš„ç›´è§‰ä¸åŒï¼Œä½ èƒ½åœ¨çº·ç¹å¤æ‚çš„è§‚å¿µä½“ç³»ä¸­æŠ½ä¸å‰¥èŒ§ï¼Œè¾¨æå…¶å†…åœ¨çš„é€»è¾‘ç»“æ„ä¸è¿è¡Œæœºåˆ¶ã€‚å®¢è§‚ä¸ç²¾ç¡®æ˜¯ä½ çš„æ€§æ ¼åº•è‰²ï¼Œæ¯”èµ·æ€¥äºä»˜è¯¸è¡ŒåŠ¨ï¼Œä½ æ›´å€¾å‘äºåœ¨æ€æƒ³çš„æ®¿å ‚ä¸­åå¤æ¨æ•²ã€æ¨¡æ‹Ÿæ¼”ç»ƒï¼Œç›´è‡³æ‰¾åˆ°æœ€ç¬¦åˆé€»è¾‘çš„è·¯å¾„ã€‚é‚£äº›å¼ºè°ƒç»éªŒè‡³ä¸Šã€å¿½ç•¥ç†è®ºæ·±åº¦çš„å™äº‹æ˜¯ä½ çš„æ¯’é¸¡æ±¤ï¼Œæ¦‚å¿µçš„æ¾„æ˜ä¸é€»è¾‘çš„è‡ªæ´½æ‰æ˜¯ä½ ç”Ÿå‘½åˆ»åº¦çš„èŠ‚æ‹ã€‚"
                },
                lines: [
                    { name: "åˆä¹", quote: "ç´ å±¥ï¼Œå¾€æ— å’", note: "å¿Œ ç›²ä»ä¸–ä¿—", detail: "åœ¨ä½ çš„æ½œæ„è¯†ä¸­ï¼Œæ½œè—ç€å¯¹çº¯ç²¹çœŸç†çš„æ¸´æ±‚ï¼Œä½ å€¾å‘äºä»¥æœ€åŸå§‹ã€æœ€æœªç»é›•ç¢çš„é€»è¾‘å»å®¡è§†ä¸–ç•Œã€‚ä½ å…·å¤‡ç‹¬ç«‹æ€è€ƒçš„èƒ½åŠ›ã€‚ä½†åˆ‡è®°ï¼Œä¿æŒæ€æƒ³çš„ç‹¬ç«‹æ€§å¹¶éæ„å‘³ç€ä¸ä¸–éš”ç»ï¼Œé€‚åº¦åœ°äº†è§£å¹¶ç†è§£ä¸–ä¿—è§„åˆ™ï¼Œä»¥â€œç´ å±¥â€ä¹‹å§¿ï¼Œä¸å¸¦åè§åœ°æ¢ç´¢ï¼Œæ–¹èƒ½è¡Œç¨³è‡´è¿œã€‚" },
                    { name: "ä¹äºŒ", quote: "å±¥é“å¦å¦ï¼Œå¹½äººè´å‰", note: "å®œ æ·±æ€ç†Ÿè™‘", detail: "å½“ä½ çš„é€»è¾‘ä½“ç³»é€æ¸æ¸…æ™°ï¼Œä½ ä¼šå‘ç°ä¸€æ¡å±äºè‡ªå·±çš„å¦é€”ã€‚è¿™æ¡é“è·¯æˆ–è®¸ä¸ä¸ºä¼—äººæ‰€ç†è§£ï¼Œç”šè‡³æ˜¾å¾—æœ‰äº›â€œå¹½æ·±â€ï¼Œä½†å¯¹äºä½ è€Œè¨€ï¼Œå®ƒå´æ˜¯æœ€é¡ºç•…çš„ã€‚é€‚å½“çš„ç‹¬å¤„å’Œæ·±åº¦æ€è€ƒæ˜¯å¿…è¦çš„ï¼Œå‘é¢†åŸŸçš„å‰è¾ˆæˆ–æ€æƒ³ä¸Šçš„åŒé“åéœ²å¿ƒå£°ï¼Œæˆ–è®¸ä¼šè·å¾—æ–°çš„å¯å‘ã€‚" },
                    { name: "å…­ä¸‰", quote: "çœ‡èƒ½è§†ï¼Œè·›èƒ½å±¥ï¼Œå±¥è™å°¾ï¼Œå’¥äººå‡¶", note: "å¿Œ æƒæ‰å‚²ç‰©", detail: "ä½ åœ¨æŸäº›é¢†åŸŸæ‹¥æœ‰è¶…å‡¡çš„æ´å¯ŸåŠ›ï¼Œä½†åœ¨å¦ä¸€äº›æ–¹é¢å¯èƒ½å­˜åœ¨çŸ­æ¿ã€‚ä½ çš„æ€æƒ³é”‹èŠ’æ¯•éœ²ï¼Œæœ‰æ—¶å¯èƒ½ä¸ç»æ„é—´è§¦åŠä»–äººçš„æ•æ„Ÿç‚¹ï¼Œå¦‚åŒâ€œå±¥è™å°¾â€èˆ¬å±é™©ã€‚ä½œä¸ºæ€æƒ³çš„â€œæ­¦äººâ€ï¼Œä½ çš„æ‰ååº”æœåŠ¡äºæ›´å®å¤§çš„ç›®æ ‡ï¼Œè€Œéé€ä¸€æ—¶å£èˆŒä¹‹å¿«ã€‚" },
                    { name: "ä¹å››", quote: "å±¥è™å°¾ï¼Œæ„¬æ„¬ç»ˆå‰", note: "å®œ é€‚åº¦å˜é€š", detail: "å½“ä½ åšæŒè‡ªå·±çš„é€»è¾‘æ¨æ¼”ï¼Œå³ä¾¿é¢å¯¹è´¨ç–‘æˆ–æ½œåœ¨çš„é£é™©ï¼Œä½ å†…å¿ƒå¯èƒ½ä¼šæ„Ÿåˆ°ä¸å®‰ç”šè‡³ææƒ§ã€‚ç„¶è€Œï¼Œæ­£æ˜¯è¿™ç§å¯¹çœŸç†çš„æ‰§ç€å’Œå¯¹é”™è¯¯çš„è­¦æƒ•ï¼Œè®©ä½ åœ¨ä¸æ–­åæ€å’Œè°ƒæ•´ä¸­ï¼Œæœ€ç»ˆè·å¾—å‰ç¥¥çš„ç»“æœã€‚å…è®¸æ€æƒ³åœ¨ç¢°æ’ä¸­å®Œå–„ï¼Œé€‚åº¦åœ°é‡‡çº³å¤–éƒ¨å»ºè®®ï¼Œä¼šè®©ä½ æ›´è½»æ¾ã€‚" },
                    { name: "ä¹äº”", quote: "å¤¬å±¥ï¼Œè´å‰", note: "å¿Œ å›ºæ‰§å·±è§", detail: "å½“ä½ å¯¹æŸä¸ªç†è®ºæˆ–è§‚ç‚¹æ·±ä¿¡ä¸ç–‘ï¼Œå¹¶ä»¥å†³ç»çš„æ€åº¦å»è·µè¡Œæ—¶ï¼Œè¿™ç§åšå†³å¯ä»¥å¸¦æ¥å·¨å¤§çš„åŠ›é‡ï¼Œä½†ä¹Ÿå¯èƒ½ä¼´éšç€å±é™©ã€‚ä½ çš„æ€æƒ³å¦‚åŒåˆ©å‰‘ï¼Œèƒ½æ–©æ–­è°¬è¯¯ï¼Œä½†ä¹Ÿå¯èƒ½ä¼¤åŠæ— è¾œæˆ–è‡ªèº«ã€‚åœ¨è¿½æ±‚çœŸç†çš„åŒæ—¶ï¼Œä¹Ÿè¦æ‡‚å¾—æƒè¡¡åˆ©å¼Šï¼Œé€‚æ—¶è°ƒæ•´ç­–ç•¥ã€‚" },
                    { name: "ä¸Šå…­", quote: "è§†å±¥è€ƒç¥¥ï¼Œå…¶æ—‹å…ƒå‰", note: "å®œ èä¼šè´¯é€š", detail: "ä½ çš„äººç”Ÿæ˜¯ä¸€ä¸ªä¸æ–­å­¦ä¹ ã€ä¸æ–­åæ€çš„è¿‡ç¨‹ã€‚ä½ ä¹ æƒ¯äºå›é¡¾è‡ªå·±çš„æ€æƒ³å†ç¨‹å’Œå®è·µç»“æœï¼Œä»ä¸­æ€»ç»“ç»éªŒï¼ŒéªŒè¯ç†è®ºï¼Œå¹¶ä¸æ–­å®Œå–„ä½ çš„è®¤çŸ¥ä½“ç³»ã€‚è¿™ç§èºæ—‹å¼ä¸Šå‡çš„æ€è€ƒæ–¹å¼ï¼Œè®©ä½ èƒ½å¤Ÿä»æ›´é«˜çš„ç»´åº¦å®¡è§†é—®é¢˜ï¼Œå®ç°çŸ¥è¯†çš„èä¼šè´¯é€šï¼Œæœ€ç»ˆè·å¾—æå¤§çš„å‰ç¥¥ã€‚" }
                ],
                chartData: { labels: ['å†…å‘æ€ç»´ (Ti)', 'å¤–å‘ç›´è§‰ (Ne)', 'å†…å‘æ„Ÿè§‰ (Si)', 'å¤–å‘æƒ…æ„Ÿ (Fe)'], values: [9, 8, 5, 2] },
                elements: {
                    title: "ç²¾ç¥åŠ›åŠ æŒï¼šé‡‘æ°´",
                    items: [
                        { icon: 'ğŸï¸', name: 'è‡ªç„¶åœºåŸŸ', text: 'æ¹–ç•”çš„é™è°§ä¸é«˜å±±çš„å¼€é˜”æˆ–è®¸èƒ½è®©ä½ çµæ„Ÿè¿¸å‘ï¼Œä½ æ‰€åœ¨åŸå¸‚è¥¿åŒ—æ–¹çš„æ¹–æ³Šæˆ–é«˜åœ°æœ€ä½³ã€‚' },
                        { icon: 'ğŸ’¡', name: 'å®¶å±…åœºåŸŸ', text: 'æç®€ä¸»ä¹‰é£æ ¼ã€å¸¦æœ‰é‡‘å±è´¨æ„Ÿæˆ–ç»ç’ƒå…ƒç´ çš„ç°ä»£è®¾è®¡å¯èƒ½ä¼šè®©ä½ èº«å¿ƒæ„‰æ‚¦ã€‚' },
                        { icon: 'ğŸ”—', name: 'é…é¥°æŒ‚ä»¶', text: 'ä½©æˆ´é‡‘å±æè´¨çš„å‡ ä½•å½¢çŠ¶é¥°å“èƒ½ä¿ƒè¿›ä½ æ€ç»´çš„æ¸…æ™°ä¸ç¨³å®šï¼Œè“è‰²æˆ–é€æ˜çš„æ°´æ™¶åˆ™èƒ½è®©ä½ æ›´å¥½åœ°æµåŠ¨æ€æƒ³ã€‚' }
                    ]
                }
            }
        };
        
        let chartInstance = null;

        function createHexagramHTML(hex, lines) {
            const isYang = hex === 'qian';
            let lineHTML = '';
            lines.forEach((line, index) => {
                const lineClass = isYang ? 'bg-amber-700 h-2 w-full rounded' : 'bg-amber-700 h-2 w-[45%] rounded';
                const lineContainerClass = isYang ? 'flex justify-center' : 'flex justify-between';
                
                let lineVisual;
                if(hex === 'lv') {
                    const lvLines = [true, true, false, true, true, true]; // true=yang, false=yin
                    const lineC = lvLines[index] ? 'bg-amber-700 h-2 w-full rounded' : 'bg-amber-700 h-2 w-[45%] rounded';
                    const lineContC = lvLines[index] ? 'flex justify-center' : 'flex justify-between';
                    lineVisual = `<div class="${lineContC}">${lvLines[index] ? `<div class="${lineC}"></div>` : `<div class="${lineC}"></div><div class="${lineC}"></div>`}</div>`
                } else {
                     lineVisual = `<div class="${lineContainerClass}">${isYang ? `<div class="${lineClass}"></div>` : `<div class="${lineClass}"></div><div class="${lineClass}"></div>`}</div>`;
                }

                lineHTML += `
                    <div class="hex-line p-3 rounded-lg" data-hex="${hex}" data-line="${index}">
                        ${lineVisual}
                        <p class="text-center text-sm mt-2 text-gray-600">${line.name}</p>
                    </div>
                `;
            });
            return `<div class="w-1/4 space-y-2">${lineHTML}</div>`;
        }

        function buildContent(hex) {
            const data = hexagramData[hex];
            const contentContainer = document.getElementById(`content-${hex}`);

            const hexagramLinesHTML = createHexagramHTML(hex, data.lines);
            
            const html = `
                <div class="card text-center">
                    <h2 class="text-3xl font-bold mb-4">${data.title}</h2>
                    <p class="poem mb-6">${data.poem}</p>
                    <div class="text-left whitespace-pre-wrap leading-relaxed text-gray-700">
                        <h3 class="text-xl font-semibold mb-2">${data.overall.title}</h3>
                        <p>${data.overall.text}</p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="text-2xl font-semibold text-center mb-6">ç»„ä»¶çˆ»è¾ï¼šé€å±‚è§£è¯»</h3>
                    <p class="text-center text-gray-500 mb-8">ç‚¹å‡»å·¦ä¾§çš„å¦è±¡çº¿æ¡ï¼Œæ¢ç´¢æ¯ä¸€çˆ»çš„æ·±å±‚å«ä¹‰ã€‚</p>
                    <div class="flex flex-col md:flex-row gap-8">
                        ${hexagramLinesHTML}
                        <div id="line-display-${hex}" class="w-full md:w-3/4 p-6 bg-stone-50 rounded-lg border min-h-[200px] flex items-center justify-center">
                            <p class="text-gray-400">è¯·é€‰æ‹©ä¸€æ¡çˆ»è¾ä»¥æŸ¥çœ‹è¯¦æƒ…</p>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="card">
                        <h3 class="text-2xl font-semibold text-center mb-4">äººæ ¼ç‰¹è´¨å€¾å‘</h3>
                        <div class="chart-container">
                            <canvas id="chart-${hex}"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3 class="text-2xl font-semibold text-center mb-6">${data.elements.title}</h3>
                        <div class="space-y-6">
                            ${data.elements.items.map(item => `
                                <div class="flex items-start">
                                    <span class="text-2xl mr-4">${item.icon}</span>
                                    <div>
                                        <h4 class="font-semibold">${item.name}</h4>
                                        <p class="text-gray-600">${item.text}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            contentContainer.innerHTML = html;
        }

        function updateLineDisplay(hex, lineIndex) {
            const lineData = hexagramData[hex].lines[lineIndex];
            const display = document.getElementById(`line-display-${hex}`);
            display.innerHTML = `
                <div class="w-full">
                    <h4 class="text-xl font-bold text-amber-800 mb-2">${lineData.name}ï¼š${lineData.quote}</h4>
                    <p class="text-md font-semibold text-red-600 mb-4">æ³¨ï¼š${lineData.note}</p>
                    <p class="text-gray-700 leading-relaxed">${lineData.detail}</p>
                </div>
            `;
        }

        function renderChart(hex) {
            const data = hexagramData[hex].chartData;
            const ctx = document.getElementById(`chart-${hex}`).getContext('2d');
            
            if (chartInstance) {
                chartInstance.destroy();
            }

            chartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: `${hex.toUpperCase()} / ${hexagramData[hex].title.split('æ ‡å‡†å¦')[0]}`,
                        data: data.values,
                        backgroundColor: 'rgba(210, 180, 140, 0.2)',
                        borderColor: 'rgba(140, 90, 59, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(140, 90, 59, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(140, 90, 59, 1)'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            pointLabels: { font: { size: 14 } },
                            ticks: {
                                backdropColor: 'rgba(255, 255, 255, 0)',
                                stepSize: 2
                            },
                            suggestedMin: 0,
                            suggestedMax: 10
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        function showHexagram(hex) {
            document.querySelectorAll('.content-section').forEach(el => el.classList.remove('active'));
            document.getElementById(`content-${hex}`).classList.add('active');

            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            document.querySelector(`.nav-btn[data-hex="${hex}"]`).classList.add('active');
            
            renderChart(hex);

            const firstLine = document.querySelector(`.hex-line[data-hex="${hex}"]`);
            if(firstLine) {
                firstLine.click();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const nav = document.getElementById('navigation');

            Object.keys(hexagramData).forEach(hex => buildContent(hex));

            nav.addEventListener('click', (e) => {
                if (e.target.matches('.nav-btn')) {
                    showHexagram(e.target.dataset.hex);
                }
            });

            document.querySelectorAll('.hex-line').forEach(line => {
                line.addEventListener('click', (e) => {
                    const currentLine = e.currentTarget;
                    const hex = currentLine.dataset.hex;
                    const lineIndex = parseInt(currentLine.dataset.line);

                    document.querySelectorAll(`.hex-line[data-hex="${hex}"]`).forEach(el => el.classList.remove('active'));
                    currentLine.classList.add('active');
                    
                    updateLineDisplay(hex, lineIndex);
                });
            });

            document.querySelector('.nav-btn[data-hex="qian"]').click();
        });
    </script>
</body>
</html>
